(function(){"use strict";var t={9634:function(t,e,n){var a=n(9242),s=n(3396);const o={class:"mainPage"},i={class:"left"},d={class:"Title"},r={class:"MenuBar"},l={class:"MindMap"},c={class:"right"},u={class:"Account"},h={class:"Calender"},p={class:"TaskAdd"};function m(t,e,n,a,m,g){const k=(0,s.up)("TitleLogo"),v=(0,s.up)("MenuBar"),w=(0,s.up)("MindMap"),f=(0,s.up)("AccountSet"),T=(0,s.up)("router-view"),b=(0,s.up)("CalenderDate"),N=(0,s.up)("TaskAdd");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",i,[(0,s._)("div",d,[(0,s.Wm)(k)]),(0,s._)("div",r,[(0,s.Wm)(v)]),(0,s._)("div",l,[(0,s.Wm)(w,{isTaskCreated:t.isTaskCreated,resDatas:t.resDatas},null,8,["isTaskCreated","resDatas"])])]),(0,s._)("div",c,[(0,s._)("div",u,[(0,s.Wm)(f),(0,s.Wm)(T)]),(0,s._)("div",h,[(0,s.Wm)(b)]),(0,s._)("div",p,[(0,s.Wm)(N,{onCreatedFlag:g.sendToMindMapDraw,onResDatas:g.sendToMindMapDraw2},null,8,["onCreatedFlag","onResDatas"])])])])}const g={class:"Title"},k=(0,s._)("h1",null,"タスク管理×マインドマップ",-1),v=[k];function w(t,e,n,a,o,i){return(0,s.wg)(),(0,s.iD)("div",g,v)}var f={name:"TitleLogo",props:{},data:()=>({})},T=n(89);const b=(0,T.Z)(f,[["render",w]]);var N=b;const _={class:"menuBar"},C=(0,s._)("h1",null,"メニューバー",-1),D={class:"buttons"},y={class:"b-btn-group"},M={class:"button"},I={class:"button"},A={class:"button"};function x(t,e,n,a,o,i){return(0,s.wg)(),(0,s.iD)("div",_,[C,(0,s._)("div",D,[(0,s._)("div",y,[(0,s._)("div",M,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>i.HowToButton&&i.HowToButton(...t)),class:"btn btn-success",style:{width:"15%",height:"3vw","max-width":"100%","max-height":"100vw","font-size":"150%"}},"使い方")]),(0,s._)("div",I,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>i.CriticalButton&&i.CriticalButton(...t)),class:"btn btn-success",style:{width:"15%",height:"3vw","max-width":"100%","max-height":"100vw","font-size":"100%"}},"クリティカルパス")]),(0,s._)("div",A,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>i.otherButton&&i.otherButton(...t)),class:"btn btn-success",style:{width:"15%",height:"3vw","max-width":"100%","max-height":"100vw","font-size":"150%"}},"その他")])])])])}var B=n(4161),S={name:"MenuBar",props:{isHowToButton:Boolean,isCriticalButton:Boolean},data:()=>({isBool:!1}),methods:{HowToButton:function(){B.Z.get("/MenuBar/howTo").then((t=>{console.log(t.data),alert(t.data)})).catch((t=>{alert(t)}))},CriticalButton:function(){B.Z.get("/MenuBar/criticalPass").then((t=>{alert(t.data)})).catch((t=>{alert(t)}))},otherButton:function(){B.Z.get("/MenuBar/other").then((t=>{alert(t.data)})).catch((t=>{alert(t)}))}}};const O=(0,T.Z)(S,[["render",x]]);var P=O;const Z={class:"MindMap"},U=(0,s._)("h1",null,"マインドマップ",-1),F={class:"MindMapDrawArea"};function L(t,e,n,a,o,i){const d=(0,s.up)("MindMapDraw");return(0,s.wg)(),(0,s.iD)("div",Z,[U,(0,s._)("div",F,[(0,s.Wm)(d,{isTaskCreated:n.isTaskCreated,resDatas:n.resDatas},null,8,["isTaskCreated","resDatas"])])])}function j(t,e,n,o,i,d){const r=(0,s.up)("MindMapNode");return(0,s.wg)(),(0,s.iD)("div",{id:"MindMapDraw",onDblclick:e[0]||(e[0]=t=>d.mouseDoubleClick(t)),onPosition:e[1]||(e[1]=(...t)=>d.setLinePosition&&d.setLinePosition(...t))},[(0,s.wy)((0,s._)("div",null,[(0,s.Wm)(r)],512),[[a.F8,!1]])],32)}n(7658);var W=n(7139);function E(t,e,n,a,o,i){return(0,s.wg)(),(0,s.iD)("button",{id:"circle",style:(0,W.j5)({transform:`translate(${t.TaskNode.x}px, ${t.TaskNode.y}px) scale(${t.TaskNode.scX}, ${t.TaskNode.scY})`}),onDblclick:e[0]||(e[0]=(...t)=>i.mouseDoubleClick&&i.mouseDoubleClick(...t)),onMousedown:e[1]||(e[1]=(...t)=>i.mouseClickDown&&i.mouseClickDown(...t)),onMouseup:e[2]||(e[2]=t=>i.mouseClickUp(t)),onMousemove:e[3]||(e[3]=t=>i.mouseDragging(t)),onMouseleave:e[4]||(e[4]=(...t)=>i.mouseLeave&&i.mouseLeave(...t))},(0,W.zw)(t.TaskNode.taskName),37)}var V={name:"MindMapNode",props:{},data:()=>({ParentNode:{node:null,x:0,y:0},TaskNode:{id:"circle",scX:2,scY:2,x:100,y:100,width:100,height:100,taskName:"タスク名",clicking:!1},ChildNode:{node:null,x:100,y:0}}),components:{},methods:{mouseDoubleClick:function(){B.Z.post("/MindMap/doubleClick",{id:this.TaskNode.id,title:this.TaskNode.taskName}).then((t=>{alert(t.data.title)})).catch((t=>{alert(t)}))},mouseClickUp:function(){this.TaskNode.clicking=!1},mouseClickDown:function(){this.TaskNode.clicking=!0},mouseDragging:function(t){this.TaskNode.clicking&&(this.TaskNode.x+=t.movementX,this.TaskNode.y+=t.movementY,null!=this.ParentNode.node&&(this.ParentNode.x=this.ParentNode.node.data.TaskNode.x,this.ParentNode.y=this.ParentNode.node.data.TaskNode.y),null!=this.ChildNode.node&&(this.ChildNode.x=this.ChildNode.node.data.TaskNode.x,this.ChildNode.y=this.ChildNode.node.data.TaskNode.y),this.$emit("position",[this.TaskNode.x,this.TaskNode.y]),console.log("parent(x:"+this.ParentNode.x+", y:"+this.ParentNode.y+")"),console.log("TaskNode(x:"+this.TaskNode.x+", y:"+this.TaskNode.y+")"),console.log("child(x:"+this.ChildNode.x+", y:"+this.ChildNode.y+")"))},mouseLeave:function(){this.TaskNode.clicking=!1},getTaskName:function(){return this.TaskNode.taskName}}};const $=(0,T.Z)(V,[["render",E]]);var q=$,z={name:"MindMapDraw",props:{isTaskCreated:Boolean,resDatas:Object,width:{type:Number,default:500},height:{type:Number,default:500}},data:()=>({isCreateNode:!1,nodes:[]}),components:{MindMapNode:q},mounted(){console.log("ページが読み込まれました");const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("id","canvas"),t.setAttribute("width",this.width),t.setAttribute("height",this.height),t.setAttribute("viewbox","0 0 1000 1000"),t.setAttribute("style","background-color:#FFFFFF"),document.getElementById("MindMapDraw").appendChild(t)},watch:{isTaskCreated:function(){console.log("タスクが作成されました！！！"),console.log("到着データ\n"+this.resDatas.id+"\n"+this.resDatas.title+"\n"+this.resDatas.contents+"\n"+this.resDatas.deadline+"\n"+this.resDatas.complete+"\n"+this.resDatas.parentId+"\n"+this.resDatas.childId);const t=(0,a.ri)(q),e=document.createElement("div");t.mount(e),t._instance.data.TaskNode.id=this.resDatas.id,t._instance.data.TaskNode.taskName=this.resDatas.title,t._instance.data.ParentNode.id=this.resDatas.parentId,t._instance.data.ChildNode.id=this.resDatas.childId,this.nodes.push(t._instance),this.nodes.length>=2&&(this.nodes[1].data.ParentNode.node=this.nodes[0],this.nodes[0].data.ChildNode.node=this.nodes[1],console.log("親ノードと子ノードの情報取得（仮）"));const n=document.createElementNS("http://www.w3.org/2000/svg","line");n.setAttribute("id","line1"),n.setAttribute("x1",t._instance.data.TaskNode.x),n.setAttribute("y1",t._instance.data.TaskNode.y),n.setAttribute("x2",t._instance.data.ParentNode.x),n.setAttribute("y2",t._instance.data.ParentNode.y),n.setAttribute("stroke","#008080"),n.setAttribute("stroke-width",5),document.getElementById("canvas").appendChild(n),console.log("登録されているノード一覧\n\n"+this.nodes),document.getElementById("MindMapDraw").appendChild(e)}},methods:{mouseDoubleClick:function(){},mouseClickUp:function(){},setLinePosition:function(t){console.log(t)}}};const H=(0,T.Z)(z,[["render",j]]);var X=H,Y={name:"MindMap",props:{isTaskCreated:Boolean,resDatas:Object},data:()=>({}),components:{MindMapDraw:X}};const G=(0,T.Z)(Y,[["render",L]]);var J=G;const Q={class:"AccountSet"},R={class:"button"},K=(0,s._)("button",{class:"btn-primary"},"SignIn",-1),tt={class:"button"},et=(0,s._)("button",{class:"btn-danger"},"SignUp",-1);function nt(t,e,n,a,o,i){const d=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",Q,[(0,s._)("div",R,[(0,s.Wm)(d,{to:"/signin"},{default:(0,s.w5)((()=>[K])),_:1})]),(0,s._)("div",tt,[(0,s.Wm)(d,{to:"/signup"},{default:(0,s.w5)((()=>[et])),_:1})])])}var at=n(9862),st={name:"AccountSet",props:{},data:()=>({isLoggedIn:!1}),mounted(){const t=(0,at.v0)();(0,at.Aj)(t,(t=>{this.isLoggedIn=!!t}))},methods:{AccountButton:function(){B.Z.get("/AccountSet/account").then((t=>{alert(t.data)})).catch((t=>{alert(t)}))},LogOutButton:function(){B.Z.get("/AccountSet/logOut").then((t=>{alert(t.data)})).catch((t=>{alert(t)}))}}};const ot=(0,T.Z)(st,[["render",nt]]);var it=ot;const dt={class:"Calender"},rt=(0,s._)("h1",null,"カレンダー",-1),lt=[rt];function ct(t,e,n,a,o,i){return(0,s.wg)(),(0,s.iD)("div",dt,lt)}var ut={name:"calenderDate",props:{},data:()=>({})};const ht=(0,T.Z)(ut,[["render",ct]]);var pt=ht;const mt={class:"TaskAdd"},gt=(0,s._)("h1",null,"タスク追加・編集",-1),kt={key:0,class:"black-bg"},vt={class:"white-bg"},wt={id:"task"},ft=(0,s._)("p",null,"task name",-1),Tt=(0,s._)("p",null,"task contents",-1),bt=(0,s._)("p",null,"dead line",-1),Nt=(0,s._)("p",null,"complelete",-1);function _t(t,e,n,o,i,d){return(0,s.wg)(),(0,s.iD)("div",mt,[gt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>d.clickCreateTask())},"Create Task"),1==t.isTaskFormOpen?((0,s.wg)(),(0,s.iD)("div",kt,[(0,s._)("div",vt,[(0,s._)("form",wt,[ft,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>d.inputTaskName=t),type:"text",id:"taskName",name:"task name"},null,512),[[a.nr,d.inputTaskName]]),Tt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>d.inputTaskContent=t),type:"text",id:"taskContent",name:"task contents"},null,512),[[a.nr,d.inputTaskContent]]),bt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>d.inputDeadLine=t),type:"date",id:"deadLine",name:"dead line"},null,512),[[a.nr,d.inputDeadLine]]),Nt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>d.inputComplete=t),type:"checkbox",id:"complelete",name:"complelete"},null,512),[[a.e8,d.inputComplete]])])])])):(0,s.kq)("",!0)])}var Ct={name:"TaskAdd",props:{},data:()=>({isTaskFormOpen:!1,resDatas:{},isTaskCreatedSwitch:!1,taskName:"",taskContent:"",deadline:null,complete:!1,parentId:"",childId:"",userId:""}),computed:{inputTaskName:{get(){return this.taskName},set(t){this.taskName=t}},inputTaskContent:{get(){return this.taskContent},set(t){this.taskContent=t}},inputDeadLine:{get(){return this.deadline},set(t){this.deadline=t}},inputComplete:{get(){return this.complete},set(t){this.complete=t}}},methods:{toggle:function(){1==this.isTaskFormOpen?this.isTaskFormOpen=!1:this.isTaskFormOpen=!0},createTask:function(){const t=(0,at.v0)().currentUser;if(t){const e=t.uid;B.Z.post("/TaskAdd/create",{title:this.taskName,contents:this.taskContent,deadline:this.deadline,complete:this.complete,userId:e}).then((t=>{alert("データを登録しました。\n登録内容\nタイトル："+t.data.title+"\n内容："+t.data.contents+"\n締め切り日："+t.data.deadline+"\n達成状況："+(t.data.complete?"達成":"未達成")),this.resDatas={id:t.data.id,title:t.data.title,contents:t.data.contents,deadline:t.data.deadline,complete:t.data.complelte,parentId:t.data.parentId,childId:t.data.childId,userId:t.data.userId},this.isTaskCreatedSwitch=!this.isTaskCreatedSwitch,this.$emit("createdFlag",this.isTaskCreatedSwitch),this.$emit("resDatas",this.resDatas)})).catch((t=>{alert(t)}))}else alert("サインインしてください")},clickCreateTask:function(){1==this.isTaskFormOpen?(this.createTask(),this.toggle()):this.toggle()},retrieveWithId:function(){1==this.isTaskFormOpen?(B.Z.post("/TaskAdd/retrieve",{id:this.taskName}).then((t=>{console.log(t.data.title),console.log(t.data.contents)})).catch((t=>{alert(t)})),this.toggle()):this.toggle()}}};const Dt=(0,T.Z)(Ct,[["render",_t]]);var yt=Dt,Mt={name:"App",data:()=>({isTaskCreated:!1,resDatas:{}}),components:{TitleLogo:N,MenuBar:P,MindMap:J,AccountSet:it,CalenderDate:pt,TaskAdd:yt},methods:{sendToMindMapDraw:function(t){console.log(t+"のデータをTaskAddから受け取りました"),this.isTaskCreated=t},sendToMindMapDraw2:function(t){console.log("MindMapDrawに送るデータたち\n"+t.id+"\n"+t.title+"\n"+t.contents+"\n"+t.deadline+"\n"+t.complete+"\n"+t.parentId+"\n"+t.childId),this.resDatas=t}}};const It=(0,T.Z)(Mt,[["render",m]]);var At=It,xt=n(65),Bt=(0,xt.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}}),St=(n(7024),n(7795)),Ot=(n(4287),n(2483));const Pt=(0,s._)("h1",null,"Mampuku",-1),Zt=(0,s._)("h2",null,"CreateanAccount",-1),Ut={class:"SignUp"},Ft=(0,s._)("label",{for:"email"},"Email:",-1),Lt=(0,s._)("label",{for:"password"},"Password:",-1),jt=(0,s._)("button",{type:"submit"},"Sign Up",-1);function Wt(t,e,n,o,i,d){return(0,s.wg)(),(0,s.iD)("div",null,[Pt,Zt,(0,s._)("div",Ut,[(0,s._)("form",{onSubmit:e[2]||(e[2]=(0,a.iM)(((...t)=>d.signUp&&d.signUp(...t)),["prevent"]))},[(0,s._)("div",null,[Ft,(0,s.wy)((0,s._)("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=t=>i.email=t),required:""},null,512),[[a.nr,i.email]])]),(0,s._)("div",null,[Lt,(0,s.wy)((0,s._)("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=t=>i.password=t),required:""},null,512),[[a.nr,i.password]])]),jt],32)])])}var Et={data(){return{email:"",password:""}},mounted(){const t=(0,at.v0)();(0,at.Aj)(t,(t=>{this.isLoggedIn=!!t}))},methods:{signUp(){const t=(0,at.v0)();(0,at.Xb)(t,this.email,this.password).then((t=>{const e=t.user;console.log(e),alert("会員登録完了！！")})).catch((t=>{const e=t.code,n=t.message;"auth/email-already-in-use"===e&&alert("すでにこのアカウントは存在します"),console.log(e,n)}))}}};const Vt=(0,T.Z)(Et,[["render",Wt]]);var $t=Vt;const qt=(0,s._)("h2",null,"SignIn",-1),zt={class:"SignIn"},Ht=(0,s._)("label",{for:"email"},"Email:",-1),Xt=(0,s._)("label",{for:"password"},"Password:",-1),Yt=(0,s._)("button",{type:"submit"},"Sign In",-1),Gt={key:0},Jt=(0,s._)("p",null,"ログイン済みです",-1),Qt={key:1},Rt=(0,s._)("p",null,"ログインしてない",-1),Kt=[Rt];function te(t,e,n,o,i,d){return(0,s.wg)(),(0,s.iD)("div",null,[qt,(0,s._)("div",zt,[(0,s._)("form",{onSubmit:e[2]||(e[2]=(0,a.iM)(((...t)=>d.signIn&&d.signIn(...t)),["prevent"]))},[(0,s._)("div",null,[Ht,(0,s.wy)((0,s._)("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=t=>i.email=t),required:""},null,512),[[a.nr,i.email]])]),(0,s._)("div",null,[Xt,(0,s.wy)((0,s._)("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=t=>i.password=t),required:""},null,512),[[a.nr,i.password]])]),Yt],32),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>d.logout&&d.logout(...t))},"logout"),(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>d.checkAccount&&d.checkAccount(...t))},"確認"),i.userMail?((0,s.wg)(),(0,s.iD)("div",Gt,[Jt,(0,s._)("p",null,(0,W.zw)(i.userMail),1)])):((0,s.wg)(),(0,s.iD)("div",Qt,Kt))])])}var ee={data(){return{email:"",password:"",userMail:""}},mounted(){const t=(0,at.v0)();(0,at.Aj)(t,(t=>{this.isLoggedIn=!!t}))},methods:{checkAccount(){console.log("check");const t=JSON.parse(sessionStorage.getItem("currentUser"));t?(console.log("ログイン済み"),this.userMail=t.email,console.log(this.userMail)):console.log("ログインしてない")},signIn(){const t=(0,at.v0)();(0,at.e5)(t,this.email,this.password).then((t=>{const e=t.user;console.log(e),sessionStorage.setItem("currentUser",JSON.stringify(e))})).catch((t=>{const e=t.code,n=t.message;console.log(e,n)}))},logout(){const t=(0,at.v0)();(0,at.w7)(t).then((()=>{sessionStorage.removeItem("currentUser"),this.userMail=""})).catch((t=>{console.log(t)}))}}};const ne=(0,T.Z)(ee,[["render",te]]);var ae=ne;const se=[{path:"/signup",name:"signup",component:$t},{path:"/signin",name:"signin",component:ae}],oe=(0,Ot.p7)({history:(0,Ot.PO)("/"),routes:se});var ie=oe;const de={apiKey:"AIzaSyCf1ihZuy6iia5kqrD16eQGYIAPnWG7BD0",authDomain:"dynamictaskmanagement.firebaseapp.com",projectId:"dynamictaskmanagement",storageBucket:"dynamictaskmanagement.appspot.com",messagingSenderId:"194437187110",appId:"1:194437187110:web:ad9a43f8c037b34e02c8e7",measurementId:"G-Q4ZNZF61NT"};(0,St.ZF)(de);const re=(0,a.ri)(At);re.use(ie).use(Bt).mount("#app")}},e={};function n(a){var s=e[a];if(void 0!==s)return s.exports;var o=e[a]={exports:{}};return t[a].call(o.exports,o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(e,a,s,o){if(!a){var i=1/0;for(c=0;c<t.length;c++){a=t[c][0],s=t[c][1],o=t[c][2];for(var d=!0,r=0;r<a.length;r++)(!1&o||i>=o)&&Object.keys(n.O).every((function(t){return n.O[t](a[r])}))?a.splice(r--,1):(d=!1,o<i&&(i=o));if(d){t.splice(c--,1);var l=s();void 0!==l&&(e=l)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[a,s,o]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,o,i=a[0],d=a[1],r=a[2],l=0;if(i.some((function(e){return 0!==t[e]}))){for(s in d)n.o(d,s)&&(n.m[s]=d[s]);if(r)var c=r(n)}for(e&&e(a);l<i.length;l++)o=i[l],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(c)},a=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(9634)}));a=n.O(a)})();
//# sourceMappingURL=app.230aa34c.js.map